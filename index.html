<!DOCTYPE html>
<html>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ccmz解析工具</title>
    <meta name="description" content="在线将虫虫钢琴的曲谱转为MIDI格式，完全在浏览器中运行">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style-pc.css" media="(min-width: 1050px) and (min-height: 720px)">
    <script src="jszip.min.js"></script>
    <script src="midi.js"></script>
    <script src="index.js"></script>
</head>

<body>
    <div id="pageview">
        <div id="part1">
            <div id="title-container">
                <div id="title">ccmz解析工具</div>
                <div id="title2">将虫虫钢琴的曲谱转为MIDI格式</div>
                <div id="links">
                    <div id="githublink">
                        <img src="icon_github.svg" />
                        Github项目
                        <img src="icon_openinnew_blue.svg" />
                    </div>
                    <div id="chongchonglink">
                        <img src="icon_chongchong.ico" />
                        虫虫钢琴官网
                        <img src="icon_openinnew_yellow.svg" />
                    </div>
                </div>
            </div>
            <div id="inputfile">
                <div id="inputtip">请选择ccmz文件或拖入此处</div>
                <div id="inputtip2">解析步骤将在本地运行</div>
                <button id="inputfilebtn">选择文件</button>
                <div id="drop-zz">
                    <div id="inputtip">松手即可使用此文件</div>
                </div>
            </div>
            <div id="shuqianitem">
                <div class="shuqian-tip">对于电脑用户，可以将此书签直接拖动到书签栏：</div>
                <a id="shuqian-item" href="" onclick="return false">
                    <img src="icon_globe.svg" />
                    ccmz解析工具
                </a>
                <div class="shuqian-tip">在官网打开曲谱详情页后点击可直接下载</div>

                <div class="shuqian-tip-small">Tip: 按Ctrl+Shift+B可显示/隐藏浏览器书签栏，拖拽添加后会自动跳转到官网搜索页</div>
                <div class="shuqian-tip" style="margin-top: 8px;">另外，你可以通过安装Tampermonkey脚本来实现：</div>

                <div id="tampermonkeylink">
                    <img src="icon_tampermonkey.svg" />
                    安装Tampermonkey脚本
                    <img src="icon_openinnew_red.svg" />
                </div>
                <div class="shuqian-tip-small">
                    此脚本由
                    <linkitem href="https://github.com/TesterNaN">@TesterNaN</linkitem>
                    提供，除了下载之外还包含一些额外的辅助功能
                </div>
            </div>

            <div id="tip1">
                <div class="tip-title">
                    <div class="icon-warn"></div>
                    <div class="tip-title-text">免责声明</div>
                </div>
                <div class="tip-text">请确保你已经购买此曲谱或已经开通vip再转换，转换后的文件<b>仅供个人学习使用</b>，请勿传播，造成后果概不负责。</div>
            </div>
        </div>
        <div id="part2">
            <div id="tip2">
                <div class="tip-title">
                    <div class="icon-tip"></div>
                    <div class="tip-title-text">ccmz获取方式</div>
                </div>
                <div class="tip-text"><strong>电脑操作：</strong>前往虫虫钢琴官网（电脑版），搜索曲谱并打开，点击曲谱播放栏简谱模式；</div>
                <img src="tip1.png" />
                <div class="tip-text">按F12打开开发人员工具（DevTools），切换网络面板，刷新页面；</div>
                <div class="tip-text">在过滤输入框中输入ccmz，双击列表中类型为xhr的文件即可下载。</div>
                <img src="tip2.png" />
                <div class="tip-text">
                    <strong>手机操作：</strong>
                    如果你的Android设备已经root，可以使用官方手机客户端打开曲谱，点击“AI看谱”，然后使用文件管理器访问/data/data/com.yusi.chongchong/files/ccmz/目录，按修改日期从新到旧排序，直接复制出最新的ccmz文件。
                </div>
            </div>
        </div>
    </div>

    <input type="file" id="file" style="display: none;" />

    <div id="run" style="display: none;">
        <div id="runbox">
            <div id="box-title"></div>

            <div id="box1" style="display: none;">
                <div class="title2">操作</div>
                <div class="text">音量对比度：</div>
                <div id="config-yinliang" class="input-xz" data-value="1">
                    <div class="xx">0x</div>
                    <div class="xx">1x</div>
                    <div class="xx">2x</div>
                    <div class="xx">3x</div>
                </div>
                <!-- <div class="text">音符长度缩放：</div>
                <div id="config-suofang" class="input-xz" data-value="1">
                    <div class="xx">0.25x</div>
                    <div class="xx">0.5x</div>
                    <div class="xx">1x</div>
                    <div class="xx">2x</div>
                </div> -->
            </div>
            <div id="box2" style="display: none;"></div>
            <div id="box3" style="display: n1one;">
                <div class="input-text">
                    <div>文件名：</div>
                    <input type="text" id="filename" />
                    <div>.mid</div>
                </div>
            </div>

            <div id="buttons">
                <button id="cancelbtn">取消</button>
                <button id="okbtn">确定</button>
                <button id="stopbtn" style="display: none;">停止</button>
                <button id="closebtn" style="display: none;">关闭</button>
                <button id="downloadbtn" style="display: none;">下载</button>
            </div>
        </div>
    </div>
</body>

</html>